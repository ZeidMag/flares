(this.webpackJsonpflares=this.webpackJsonpflares||[]).push([[0],{38:function(t,e,c){},72:function(t,e,c){},74:function(t,e,c){},75:function(t,e,c){},76:function(t,e,c){},77:function(t,e,c){},78:function(t,e,c){},79:function(t,e,c){"use strict";c.r(e);var n=c(0),i=c.n(n),r=c(16),a=c.n(r),s=c(13),o=c(4),l=c(25),j=c(41),d=c(7),u=c(22),b=c(3),h=c(5),O=c.n(h),p=c(14),m=c(15),f=c.n(m),x="GET_FLARES",v="UPDATE_FLARES",k="GET_TICKETS",g="CREATE_TICKET",y="ADD_COMMENT",N="GET_TICKET_STATUS_PRIORITY_TYPE",w=function(){return function(){var t=Object(p.a)(O.a.mark((function t(e){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("http://localhost:5000/api/v1/ticket/");case 2:(c=t.sent)&&c.data.success&&e({type:k,payload:c.data.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T={tickets:[],ticketStatus:[],ticketPriority:[],ticketType:[]},C={flares:[],zones:[]},E=function(t){var e=t.reduce((function(t,e){return t[e.zone.id]=(t[e.zone.id]||0)+1,t}),{}),c=[],n=function(n){c.push({id:n,latitude:t.find((function(t){return t.zone.id.toString()===n})).zone.latitude,longitude:t.find((function(t){return t.zone.id.toString()===n})).zone.longitude,count:e[n]})};for(var i in e)n(i);return c},S="GET_COMMENTS",z="CREATE_COMMENT",M="GET_COMMENT_TYPE",A="CLEAR_COMMENTS",_={comments:[],commentType:[]},I=c(1),L=Object(l.b)({flare:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x:case v:return Object(b.a)(Object(b.a)({},t),{},{flares:Object(u.a)(e.payload),zones:E(e.payload)});default:return t}},tickets:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k:case g:return Object(b.a)(Object(b.a)({},t),{},{tickets:e.payload});case y:var c=t.tickets.map((function(t){return t.id===e.ticketId&&t.commentsList.push(e.payload),t}));return Object(b.a)(Object(b.a)({},t),{},{tickets:Object(u.a)(c)});case N:return Object(b.a)(Object(b.a)({},t),{},{ticketStatus:e.payload.status,ticketPriority:e.payload.priority,ticketType:e.payload.type});default:return t}},comments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return Object(b.a)(Object(b.a)({},t),{},{comments:e.payload});case M:return Object(b.a)(Object(b.a)({},t),{},{commentType:e.payload});case z:return Object(b.a)(Object(b.a)({},t),{},{comments:e.payload});case A:return Object(b.a)(Object(b.a)({},t),{},{comments:[]});default:return t}}}),F=Object(l.c)(L,Object(l.a)(j.a)),P=function(t){var e=t.children;return Object(I.jsx)(d.a,{store:F,children:e})},D=(c(38),function(t){var e=t.id,c=t.subject,n=t.description,i=t.status,r=t.priority,a=t.type,o=t.owner,l=t.createdAt,j=t.flaresList,d=t.zonesList;return Object(I.jsxs)("div",{className:"ticket-container",children:[Object(I.jsxs)("div",{className:"ticket-header",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{children:Object(I.jsx)(s.b,{to:"/single-ticket/".concat(e),children:c})}),Object(I.jsx)("h6",{children:o})]}),Object(I.jsxs)("div",{className:"ticket-status",children:[Object(I.jsx)("h5",{className:"ticket-status-".concat(i.id),children:i.status}),Object(I.jsx)("h5",{className:"ticket-priority-".concat(r.id),children:r.priority}),Object(I.jsx)("h5",{className:"ticket-type-".concat(a.id),children:a.type})]})]}),Object(I.jsx)("div",{className:"ticket-description",children:Object(I.jsx)("p",{children:n})}),Object(I.jsxs)("div",{className:"ticket-footer",children:[Object(I.jsxs)("div",{className:"ticket-zones",children:[Object(I.jsxs)("h4",{children:["# Flares:",j.length]}),Object(I.jsxs)("h4",{children:["# Zones:",d.length]})]}),Object(I.jsx)("div",{className:"ticket-creation-date",children:Object(I.jsx)("h6",{children:new Date(l).toISOString().substring(0,10)})})]})]})}),R=(c(72),function(){var t=Object(d.b)();Object(n.useEffect)((function(){t(w())}),[t]);var e=Object(d.c)((function(t){return t.tickets})).tickets;return e.length?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h1",{children:"All Tickets"}),Object(I.jsx)("button",{onClick:function(){return console.log(e)},children:"show tickets"}),e.length&&e.map((function(t){return Object(I.jsx)(D,{id:t.id,subject:t.subject,status:t.status,priority:t.priority,type:t.type,description:t.description,createdAt:t.createdAt,flaresList:t.flare,zonesList:t.zone,owner:t.owner.username},t.id)}))]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("p",{children:"no tickets available"}),";"]})}),G=c(21),Y=c(20),K={lat:32.885,lng:13.188},B={width:"100vw",height:"70vh"},J=function(t){var e=t.zoom,c=void 0===e?16:e,n=t.center,i=void 0===n?K:n,r=t.mapContainerStyle,a=void 0===r?B:r,s=t.children,o=Object(d.b)(),l=Object(Y.c)({googleMapsApiKey:"AIzaSyCSLXG5j-CqSB0zR476bJFXOSQ9sWuXqH0"}),j=l.isLoaded;if(l.loadError)return"Error loading maps";if(!j)return"Loading Maps";return Object(I.jsx)(Y.a,{mapContainerStyle:a,zoom:c,center:i,onLoad:function(){o(function(){var t=Object(p.a)(O.a.mark((function t(e){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("http://localhost:5000/api/v1/flare");case 2:(c=t.sent)&&c.data.success&&e({type:x,payload:c.data.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},children:s})},W=c(42),X=c(43),q=c.n(X),U=(c(74),function(t){var e=t.comment,c=(e.id,e.author),n=e.comment,i=e.createdAt,r=e.type;return Object(I.jsxs)("div",{className:"ticket-container",children:[Object(I.jsxs)("div",{className:"comment-header d-flex",children:[Object(I.jsx)("h3",{children:c.username}),Object(I.jsx)("h4",{children:r.type})]}),Object(I.jsx)("div",{className:"comment-main",children:n}),Object(I.jsx)(q.a,{format:"YYYY-MMM-DD hh:mm A",children:i})]})}),Z=function(){var t=Object(o.f)().id,e=Object(d.b)(),c=Object(d.c)((function(t){return t.comments})).comments;return Object(n.useEffect)((function(){var c;return e((c=t,function(){var t=Object(p.a)(O.a.mark((function t(e){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("http://localhost:5000/api/v1/comment/".concat(c));case 3:n=t.sent,e({type:S,payload:n.data.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),function(){e({type:A})}}),[e]),c.length?Object(I.jsx)("div",{children:c.map((function(t,e){return Object(I.jsx)(U,{comment:t},e)}))}):Object(I.jsx)("h3",{children:"No comments Available"})},H=function(){var t=Object(d.b)(),e=Object(o.f)().id,c=Object(d.c)((function(t){return t.comments})).commentType;Object(n.useEffect)((function(){c.length||t(function(){var t=Object(p.a)(O.a.mark((function t(e){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("http://localhost:5000/api/v1/comment/type");case 3:c=t.sent,e({type:M,payload:c.data.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())}),[t]);var i=Object(n.useState)(null),r=Object(G.a)(i,2),a=r[0],s=r[1],l=Object(n.useState)(null),j=Object(G.a)(l,2),u=j[0],b=j[1];return Object(I.jsxs)("div",{children:[Object(I.jsx)("textarea",{name:"test",onChange:function(t){s(t.target.value)}}),Object(I.jsxs)("select",{defaultValue:"0",onChange:function(t){b(t.target.value)},children:[Object(I.jsx)("option",{value:"0",hidden:!0,children:"Select"}),c.length?c.map((function(t){return Object(I.jsx)("option",{value:t.id,children:t.type},t.id)})):Object(I.jsx)("option",{value:"0",disabled:!0,children:"Error"})]}),Object(I.jsx)("button",{onClick:function(){if(null==a||null==u)return alert("Please fill out all fields");var c,n={ticketId:e,authorId:2,comment:a,typeId:parseInt(u),createdAt:new Date};t((c=n,function(){var t=Object(p.a)(O.a.mark((function t(e){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.post("http://localhost:5000/api/v1/comment",{comment:c});case 3:n=t.sent,e({type:z,payload:n.data.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))},children:"Submit"})]})},Q=function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(Z,{}),Object(I.jsx)(H,{})]})},V=(c(75),function(){var t=Object(d.b)(),e=Object(n.useState)(!1),c=Object(G.a)(e,2),i=c[0],r=c[1],a=Object(d.c)((function(t){return t.tickets})),l=a.tickets,j=a.ticketStatus,u=a.ticketPriority,h=a.ticketType,m=Object(o.f)().id,x=l.find((function(t){return t.id.toString()===m}));if(Object(n.useEffect)((function(){l.length||t(w())}),[l,t]),Object(n.useEffect)((function(){j.length&&u.length&&h.length||t(function(){var t=Object(p.a)(O.a.mark((function t(e){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("http://localhost:5000/api/v1/ticket/status-priority-type");case 2:(c=t.sent)&&c.data.success&&e({type:N,payload:c.data.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[t]),!x)return Object(I.jsx)("p",{children:"no ticket, maybe incorrect id?"});var v=x.subject,k=x.description,g=x.status,y=x.priority,T=x.type,C=x.owner,E=x.createdAt,S=x.zone,z=x.flare,M=Object(W.countBy)(z,"zoneId"),A=S.map((function(t){return Object(b.a)(Object(b.a)({},t),{},{count:M[t.id]})})),_=function(){r((function(t){return!t}))};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("button",{onClick:function(){return console.log(j)},children:"show status"}),Object(I.jsx)("button",{onClick:function(){return console.log(u)},children:"show priority"}),Object(I.jsx)("button",{onClick:function(){return console.log(h)},children:"show type"}),Object(I.jsx)("button",{onClick:function(){return console.log(x)},children:"show ticket"}),Object(I.jsx)("h1",{children:"Single Ticket"}),Object(I.jsx)(J,{center:{lat:S[0].latitude,lng:S[0].longitude},children:A.map((function(t,e){return Object(I.jsx)(Y.b,{position:{lat:t.latitude,lng:t.longitude},label:{color:"hsl(240, 100%, 80%)",fontWeight:"bold",fontSize:"1.5rem",text:"".concat(t.count)},icon:{path:"M8 12l-4.7023 2.4721.898-5.236L.3916 5.5279l5.2574-.764L8 0l2.3511 4.764 5.2574.7639-3.8043 3.7082.898 5.236z",fillColor:"hsl(240, 100%, 97%)",fillOpacity:.9,scale:2,strokeColor:"hsl(240, 40%, 60%)",strokeWeight:2}},e)}))}),Object(I.jsxs)("div",{className:"ticket-container",children:[Object(I.jsxs)("div",{className:"ticket-header",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{children:v}),Object(I.jsx)("h6",{children:C.username})]}),Object(I.jsxs)("div",{className:"ticket-status",children:[Object(I.jsx)("h5",{className:"ticket-status-".concat(g.id),onClick:_,children:g.status}),Object(I.jsx)("h5",{className:"ticket-priority-".concat(y.id),children:y.priority}),Object(I.jsx)("h5",{className:"ticket-type-".concat(T.id),children:T.type})]})]}),Object(I.jsx)("div",{className:"ticket-description",children:Object(I.jsx)("p",{children:k})}),Object(I.jsxs)("div",{className:"ticket-footer",children:[Object(I.jsx)("div",{className:"ticket-zones d-flex",children:Object(I.jsx)("h4",{children:"Zones:"})}),Object(I.jsx)("div",{className:"ticket-creation-date",children:Object(I.jsx)("h6",{children:new Date(E).toISOString().substring(0,10)})})]})]}),Object(I.jsx)(Q,{}),Object(I.jsx)("h3",{children:Object(I.jsx)(s.b,{to:"/tickets",children:"Go back to All Tickets"})}),Object(I.jsx)("div",{className:"status-modal-container ".concat(!i&&"remove-element"),onClick:_,children:Object(I.jsxs)("div",{className:"status-modal",onClick:function(t){t.stopPropagation()},children:[Object(I.jsx)("h2",{children:"change status"}),Object(I.jsxs)("ul",{className:"status-list",children:[Object(I.jsx)("li",{onClick:function(){},children:"New"}),Object(I.jsx)("li",{onClick:function(){},children:"Open"}),Object(I.jsx)("li",{onClick:function(){},children:"Closed"})]})]})})]})}),$=(c(76),function(){return Object(I.jsx)("div",{id:"navigation-bar",children:Object(I.jsx)("nav",{children:Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:Object(I.jsx)(s.c,{to:"/flares",children:"Map"})}),Object(I.jsx)("li",{children:Object(I.jsx)(s.c,{to:"/tickets",children:"Tickets"})})]})})})}),tt=function(t){var e=t.children;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)($,{}),Object(I.jsx)("div",{style:{height:"4rem"}}),e]})},et=(c(77),c.p+"static/media/login-image.528cdeeb.png"),ct=function(){return Object(I.jsxs)("main",{className:"login-container primary-font",children:[Object(I.jsx)("section",{className:"login-right-section",children:Object(I.jsxs)("article",{className:"login-content",children:[Object(I.jsx)("h1",{className:"login-welcome-header__main",children:"\u0645\u0631\u062d\u0628\u0627 \u0628\u0639\u0648\u062f\u062a\u0643 !"}),Object(I.jsx)("h4",{className:"login-welcome-header__secondary",children:"\u0642\u0645 \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0644\u062a\u062a\u0645\u062a\u0639 \u0628\u0643\u0644 \u0645\u0632\u0627\u064a\u0627 \u0641\u0644\u064a\u0631!"}),Object(I.jsx)("label",{htmlFor:"username",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),Object(I.jsx)("input",{type:"text",name:"username",className:"login-input",autoFocus:!0}),Object(I.jsx)("label",{htmlFor:"password",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"}),Object(I.jsx)("input",{name:"password",type:"password",className:"login-input"}),Object(I.jsxs)("div",{className:"flex",children:[Object(I.jsx)("input",{type:"checkbox",name:"rememberMe",id:"rememberMe"}),Object(I.jsx)("label",{htmlFor:"rememberMe",children:"\u062a\u0630\u0643\u0631\u0646\u064a"})]}),Object(I.jsx)("button",{children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})]})}),Object(I.jsxs)("section",{className:"login-left-section",children:[Object(I.jsx)("div",{className:"login-image-container",children:Object(I.jsx)("img",{src:et,alt:"macbook"})}),Object(I.jsx)("div",{className:"login-top-left-label",children:Object(I.jsx)("h1",{children:"Flare"})})]})]})},nt=(c(78),function(){return Object(I.jsx)(s.a,{children:Object(I.jsx)(P,{children:Object(I.jsxs)(o.c,{children:[Object(I.jsx)(o.a,{path:"/flares",component:ct}),Object(I.jsxs)(tt,{children:[Object(I.jsx)(o.a,{path:"/tickets",component:R}),Object(I.jsx)(o.a,{path:"/single-ticket/:id",component:V})]})]})})})});a.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(nt,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.ea93bef5.chunk.js.map