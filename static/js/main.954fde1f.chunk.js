(this.webpackJsonpflares=this.webpackJsonpflares||[]).push([[0],{38:function(e,t,c){},72:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){},82:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),a=c(16),s=c.n(a),r=c(15),o=c(4),l=c(25),j=c(41),d=c(7),u=c(22),b=c(3),h=c(5),O=c.n(h),p=c(13),m=c(14),f=c.n(m),x="GET_FLARES",v="UPDATE_FLARES",g="GET_TICKETS",k="CREATE_TICKET",y="ADD_COMMENT",N="GET_TICKET_STATUS_PRIORITY_TYPE",w=function(){return function(){var e=Object(p.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:5000/api/v1/ticket/");case 2:(c=e.sent)&&c.data.success&&t({type:g,payload:c.data.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C={tickets:[],ticketStatus:[],ticketPriority:[],ticketType:[]},T={flares:[],zones:[]},E=function(e){var t=e.reduce((function(e,t){return e[t.zone.id]=(e[t.zone.id]||0)+1,e}),{}),c=[],n=function(n){c.push({id:n,latitude:e.find((function(e){return e.zone.id.toString()===n})).zone.latitude,longitude:e.find((function(e){return e.zone.id.toString()===n})).zone.longitude,count:t[n]})};for(var i in t)n(i);return c},S="GET_COMMENTS",z="CREATE_COMMENT",A="GET_COMMENT_TYPE",M="CLEAR_COMMENTS",_={comments:[],commentType:[]},I=c(1),L=Object(l.b)({flare:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case v:return Object(b.a)(Object(b.a)({},e),{},{flares:Object(u.a)(t.payload),zones:E(t.payload)});default:return e}},tickets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case k:return Object(b.a)(Object(b.a)({},e),{},{tickets:t.payload});case y:var c=e.tickets.map((function(e){return e.id===t.ticketId&&e.commentsList.push(t.payload),e}));return Object(b.a)(Object(b.a)({},e),{},{tickets:Object(u.a)(c)});case N:return Object(b.a)(Object(b.a)({},e),{},{ticketStatus:t.payload.status,ticketPriority:t.payload.priority,ticketType:t.payload.type});default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(b.a)(Object(b.a)({},e),{},{comments:t.payload});case A:return Object(b.a)(Object(b.a)({},e),{},{commentType:t.payload});case z:return Object(b.a)(Object(b.a)({},e),{},{comments:t.payload});case M:return Object(b.a)(Object(b.a)({},e),{},{comments:[]});default:return e}}}),F=Object(l.c)(L,Object(l.a)(j.a)),P=function(e){var t=e.children;return Object(I.jsx)(d.a,{store:F,children:t})},D=(c(38),function(e){var t=e.id,c=e.subject,n=e.description,i=e.status,a=e.priority,s=e.type,o=e.owner,l=e.createdAt,j=e.flaresList,d=e.zonesList;return Object(I.jsxs)("div",{className:"ticket-container",children:[Object(I.jsxs)("div",{className:"ticket-header",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{children:Object(I.jsx)(r.b,{to:"/single-ticket/".concat(t),children:c})}),Object(I.jsx)("h6",{children:o})]}),Object(I.jsxs)("div",{className:"ticket-status",children:[Object(I.jsx)("h5",{className:"ticket-status-".concat(i.id),children:i.status}),Object(I.jsx)("h5",{className:"ticket-priority-".concat(a.id),children:a.priority}),Object(I.jsx)("h5",{className:"ticket-type-".concat(s.id),children:s.type})]})]}),Object(I.jsx)("div",{className:"ticket-description",children:Object(I.jsx)("p",{children:n})}),Object(I.jsxs)("div",{className:"ticket-footer",children:[Object(I.jsxs)("div",{className:"ticket-zones",children:[Object(I.jsxs)("h4",{children:["# Flares:",j.length]}),Object(I.jsxs)("h4",{children:["# Zones:",d.length]})]}),Object(I.jsx)("div",{className:"ticket-creation-date",children:Object(I.jsx)("h6",{children:new Date(l).toISOString().substring(0,10)})})]})]})}),R=(c(72),function(){var e=Object(d.b)();Object(n.useEffect)((function(){e(w())}),[e]);var t=Object(d.c)((function(e){return e.tickets})).tickets;return t.length?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h1",{children:"All Tickets"}),Object(I.jsx)("button",{onClick:function(){return console.log(t)},children:"show tickets"}),t.length&&t.map((function(e){return Object(I.jsx)(D,{id:e.id,subject:e.subject,status:e.status,priority:e.priority,type:e.type,description:e.description,createdAt:e.createdAt,flaresList:e.flare,zonesList:e.zone,owner:e.owner.username},e.id)}))]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("p",{children:"no tickets available"}),";"]})}),Y=c(21),G=c(20),J={lat:32.885,lng:13.188},K={width:"100%",height:"100%"},B=function(e){var t=e.zoom,c=void 0===t?16:t,n=e.center,i=void 0===n?J:n,a=e.mapContainerStyle,s=void 0===a?K:a,r=e.children,o=Object(d.b)(),l=Object(G.c)({googleMapsApiKey:"AIzaSyA3STsJ4ZCaIz50jARJ1jcxzBH7obM9zi0"}),j=l.isLoaded;if(l.loadError)return"Error loading maps";if(!j)return"Loading Maps";return Object(I.jsx)(G.a,{mapContainerStyle:s,zoom:c,center:i,onLoad:function(){o(function(){var e=Object(p.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:5000/api/v1/flare");case 2:(c=e.sent)&&c.data.success&&t({type:x,payload:c.data.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},options:{streetViewControl:!1,navigationControl:!1,zoomControl:!1,fullscreenControl:!1},children:r})},Z=c(42),U=c(43),V=c.n(U),W=(c(74),function(e){var t=e.comment,c=(t.id,t.author),n=t.comment,i=t.createdAt,a=t.type;return Object(I.jsxs)("div",{className:"ticket-container",children:[Object(I.jsxs)("div",{className:"comment-header d-flex",children:[Object(I.jsx)("h3",{children:c.username}),Object(I.jsx)("h4",{children:a.type})]}),Object(I.jsx)("div",{className:"comment-main",children:n}),Object(I.jsx)(V.a,{format:"YYYY-MMM-DD hh:mm A",children:i})]})}),H=function(){var e=Object(o.f)().id,t=Object(d.b)(),c=Object(d.c)((function(e){return e.comments})).comments;return Object(n.useEffect)((function(){var c;return t((c=e,function(){var e=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("http://localhost:5000/api/v1/comment/".concat(c));case 3:n=e.sent,t({type:S,payload:n.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),function(){t({type:M})}}),[t]),c.length?Object(I.jsx)("div",{children:c.map((function(e,t){return Object(I.jsx)(W,{comment:e},t)}))}):Object(I.jsx)("h3",{children:"No comments Available"})},q=function(){var e=Object(d.b)(),t=Object(o.f)().id,c=Object(d.c)((function(e){return e.comments})).commentType;Object(n.useEffect)((function(){c.length||e(function(){var e=Object(p.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("http://localhost:5000/api/v1/comment/type");case 3:c=e.sent,t({type:A,payload:c.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var i=Object(n.useState)(null),a=Object(Y.a)(i,2),s=a[0],r=a[1],l=Object(n.useState)(null),j=Object(Y.a)(l,2),u=j[0],b=j[1];return Object(I.jsxs)("div",{children:[Object(I.jsx)("textarea",{name:"test",onChange:function(e){r(e.target.value)}}),Object(I.jsxs)("select",{defaultValue:"0",onChange:function(e){b(e.target.value)},children:[Object(I.jsx)("option",{value:"0",hidden:!0,children:"Select"}),c.length?c.map((function(e){return Object(I.jsx)("option",{value:e.id,children:e.type},e.id)})):Object(I.jsx)("option",{value:"0",disabled:!0,children:"Error"})]}),Object(I.jsx)("button",{onClick:function(){if(null==s||null==u)return alert("Please fill out all fields");var c,n={ticketId:t,authorId:2,comment:s,typeId:parseInt(u),createdAt:new Date};e((c=n,function(){var e=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.post("http://localhost:5000/api/v1/comment",{comment:c});case 3:n=e.sent,t({type:z,payload:n.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))},children:"Submit"})]})},Q=function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(H,{}),Object(I.jsx)(q,{})]})},X=(c(75),function(){var e=Object(d.b)(),t=Object(n.useState)(!1),c=Object(Y.a)(t,2),i=c[0],a=c[1],s=Object(d.c)((function(e){return e.tickets})),l=s.tickets,j=s.ticketStatus,u=s.ticketPriority,h=s.ticketType,m=Object(o.f)().id,x=l.find((function(e){return e.id.toString()===m}));if(Object(n.useEffect)((function(){l.length||e(w())}),[l,e]),Object(n.useEffect)((function(){j.length&&u.length&&h.length||e(function(){var e=Object(p.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:5000/api/v1/ticket/status-priority-type");case 2:(c=e.sent)&&c.data.success&&t({type:N,payload:c.data.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),!x)return Object(I.jsx)("p",{children:"no ticket, maybe incorrect id?"});var v=x.subject,g=x.description,k=x.status,y=x.priority,C=x.type,T=x.owner,E=x.createdAt,S=x.zone,z=x.flare,A=Object(Z.countBy)(z,"zoneId"),M=S.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{count:A[e.id]})})),_=function(){a((function(e){return!e}))};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("button",{onClick:function(){return console.log(j)},children:"show status"}),Object(I.jsx)("button",{onClick:function(){return console.log(u)},children:"show priority"}),Object(I.jsx)("button",{onClick:function(){return console.log(h)},children:"show type"}),Object(I.jsx)("button",{onClick:function(){return console.log(x)},children:"show ticket"}),Object(I.jsx)("h1",{children:"Single Ticket"}),Object(I.jsx)(B,{center:{lat:S[0].latitude,lng:S[0].longitude},children:M.map((function(e,t){return Object(I.jsx)(G.b,{position:{lat:e.latitude,lng:e.longitude},label:{color:"hsl(240, 100%, 80%)",fontWeight:"bold",fontSize:"1.5rem",text:"".concat(e.count)},icon:{path:"M8 12l-4.7023 2.4721.898-5.236L.3916 5.5279l5.2574-.764L8 0l2.3511 4.764 5.2574.7639-3.8043 3.7082.898 5.236z",fillColor:"hsl(240, 100%, 97%)",fillOpacity:.9,scale:2,strokeColor:"hsl(240, 40%, 60%)",strokeWeight:2}},t)}))}),Object(I.jsxs)("div",{className:"ticket-container",children:[Object(I.jsxs)("div",{className:"ticket-header",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("h2",{children:v}),Object(I.jsx)("h6",{children:T.username})]}),Object(I.jsxs)("div",{className:"ticket-status",children:[Object(I.jsx)("h5",{className:"ticket-status-".concat(k.id),onClick:_,children:k.status}),Object(I.jsx)("h5",{className:"ticket-priority-".concat(y.id),children:y.priority}),Object(I.jsx)("h5",{className:"ticket-type-".concat(C.id),children:C.type})]})]}),Object(I.jsx)("div",{className:"ticket-description",children:Object(I.jsx)("p",{children:g})}),Object(I.jsxs)("div",{className:"ticket-footer",children:[Object(I.jsx)("div",{className:"ticket-zones d-flex",children:Object(I.jsx)("h4",{children:"Zones:"})}),Object(I.jsx)("div",{className:"ticket-creation-date",children:Object(I.jsx)("h6",{children:new Date(E).toISOString().substring(0,10)})})]})]}),Object(I.jsx)(Q,{}),Object(I.jsx)("h3",{children:Object(I.jsx)(r.b,{to:"/tickets",children:"Go back to All Tickets"})}),Object(I.jsx)("div",{className:"status-modal-container ".concat(!i&&"remove-element"),onClick:_,children:Object(I.jsxs)("div",{className:"status-modal",onClick:function(e){e.stopPropagation()},children:[Object(I.jsx)("h2",{children:"change status"}),Object(I.jsxs)("ul",{className:"status-list",children:[Object(I.jsx)("li",{onClick:function(){},children:"New"}),Object(I.jsx)("li",{onClick:function(){},children:"Open"}),Object(I.jsx)("li",{onClick:function(){},children:"Closed"})]})]})})]})}),$=(c(76),function(){return Object(I.jsx)("section",{children:Object(I.jsxs)("article",{className:"side-nav",children:[Object(I.jsx)("div",{children:"\u0645\u062d\u0645\u062f \u0623\u062d\u0645\u062f"}),Object(I.jsxs)("ul",{children:[Object(I.jsx)("li",{children:"\u0627\u0644\u062e\u0631\u064a\u0637\u0629"}),Object(I.jsx)("li",{children:"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062a\u0630\u0627\u0643\u0631"}),Object(I.jsx)("li",{children:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a"}),Object(I.jsx)("li",{children:"\u0627\u0644\u062a\u0642\u0627\u0631\u064a\u0631"})]}),Object(I.jsx)("div",{children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"})]})})}),ee=(c(77),function(e){var t=e.children;return Object(I.jsxs)("main",{className:"layout-container",children:[Object(I.jsx)($,{}),t]})}),te=(c(78),c.p+"static/media/login-image.528cdeeb.png"),ce=c.p+"static/media/corner-logo.7f9623fb.svg",ne=function(){return Object(I.jsxs)("main",{className:"login-container",children:[Object(I.jsx)("section",{className:"login-right-section",children:Object(I.jsxs)("article",{className:"login-content",children:[Object(I.jsx)("h1",{className:"login-welcome-header__main",children:"\u0645\u0631\u062d\u0628\u0627 \u0628\u0639\u0648\u062f\u062a\u0643 !"}),Object(I.jsx)("h4",{className:"login-welcome-header__secondary",children:"\u0642\u0645 \u0628\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0644\u062a\u062a\u0645\u062a\u0639 \u0628\u0643\u0644 \u0645\u0632\u0627\u064a\u0627 \u0641\u0644\u064a\u0631!"}),Object(I.jsx)("label",{htmlFor:"username",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"}),Object(I.jsx)("input",{type:"text",name:"username",className:"login-input",autoFocus:!0}),Object(I.jsx)("label",{htmlFor:"password",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"}),Object(I.jsx)("input",{name:"password",type:"password",className:"login-input"}),Object(I.jsxs)("div",{className:"flex",children:[Object(I.jsx)("input",{type:"checkbox",name:"rememberMe",id:"rememberMe"}),Object(I.jsx)("label",{htmlFor:"rememberMe",children:"\u062a\u0630\u0643\u0631\u0646\u064a"})]}),Object(I.jsx)("button",{children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"})]})}),Object(I.jsxs)("section",{className:"login-left-section",children:[Object(I.jsx)("div",{className:"login-image-container",children:Object(I.jsx)("img",{src:te,alt:"macbook"})}),Object(I.jsx)("div",{className:"login-water-marker-image-container",children:Object(I.jsx)("img",{src:ce,alt:"watermark logo"})}),Object(I.jsx)("div",{className:"login-top-left-label",children:Object(I.jsx)("h1",{children:"Flare"})})]})]})},ie=(c(79),c.p+"static/media/add-circle.b7716654.svg"),ae=function(){return Object(I.jsxs)("section",{className:"fab-container",children:[Object(I.jsx)("div",{className:"fab-image-container",children:Object(I.jsx)("img",{src:ie,alt:"create ticket"})}),Object(I.jsx)("h3",{children:"\u0625\u0646\u0634\u0627\u0621 \u062a\u0630\u0643\u0631\u0629"})]})},se=(c(80),function(){return Object(I.jsxs)("section",{children:[Object(I.jsx)(B,{}),Object(I.jsx)(ae,{})]})}),re=(c(81),function(){return Object(I.jsx)(r.a,{children:Object(I.jsx)(P,{children:Object(I.jsxs)(o.c,{children:[Object(I.jsx)(o.a,{path:"/login",component:ne}),Object(I.jsxs)(ee,{children:[Object(I.jsx)(o.a,{path:"/flares",component:se}),Object(I.jsx)(o.a,{path:"/tickets",component:R}),Object(I.jsx)(o.a,{path:"/single-ticket/:id",component:X})]})]})})})});s.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsx)(re,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.954fde1f.chunk.js.map